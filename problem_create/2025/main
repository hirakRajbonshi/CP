#!/bin/bash

N=$1
path=$2

if [ -z "$N" ] || [ -z "$path" ]; then
    echo "Usage: ./script.sh <N> <path>"
    exit 1
fi

g++ "$path/main.cpp" -o "$path/main" || { echo "Compilation failed"; exit 1; }

for (( i = 1; i <= N; i++ )); do
    if [ ! -f "$path/test$i.txt" ]; then
        echo "Warning: $path/test$i.txt not found, skipping"
        continue
    fi
    "$path/main" < "$path/test$i.txt" > "$path/output$i.txt"
    echo "Test $i done!"
done

echo "Execution completed!"
